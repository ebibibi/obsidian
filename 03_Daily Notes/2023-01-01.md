- あけましておめでとうございます。
- 大晦日はお酒を少し飲んですごく眠くなったので9時くらいにはもう寝ちゃいました。そして前回のコロナ疾患時と同じようにまた深夜3時に目が覚めてしまいました。最悪の年越しです。
- 深夜3時に目が覚めた時に以前の時と同じような何かしらの震えというか、筋肉の痙攣というか、そういうものがありました。やっぱりコロナの後遺症だったんだなと納得。
- でも、今回はまだ以前もらった睡眠薬が残っているので睡眠薬を飲んで寝なおしました。なのでぐっすり寝はしました。
- そろそろ睡眠薬が無くなっちゃうからまたもらいに行かなきゃ。
- 証明書に関しての動画を編集した。アップロード中。証明書は重要だからずっとやりたいなと思ってたので一応作れてよかった。きちんと公開しよう。
-  自分のWordpressのサイトが表示されるまでの時間がめちゃくちゃ遅い(10秒以上かかる)事に気が付いた。全部のサイトだから基盤自体の問題なんだろうけど…、何だろう。
- まずはAzureの基盤を見てみる。
- バックエンドのMySQLのメモリ使用率が常時95%くらいになってる。
- 同じ基盤で動かしてるのにcloud.ebisuda.netはそこまで遅くなかった。この違いは何から来てるのだろうか？
- wordpressのプラグインを全部OFFにしたら問題なくなった。明らかにプラグインのどれかが悪さをしている…。
- 犯人が判明。Feedzy RSS Feeds Liteだ。こいつを有効化するとすげー遅くなって、無効化するとまともになる。
- でも、有効化してても問題ないサイトもあるからな。設定の違いを探ってみよう。
- 設定は全く同じに見える…。
- 1つウィジェットを消したら早くなった。原因不明…。
- 証明書の動画を公開した。
	- [【証明書基礎】証明書についてザックリ解説【理論編】 - YouTube](https://www.youtube.com/watch?v=TtJvwxm8lGU)
- サイトが遅いのはFeedzy RSS Feeds Liteで複数サイトのRSSを取得してくる処理が原因であることがほぼ確定。12時間キャッシュさせる設定にしてるけどそのキャッシュがうまく効いてなくてなくて毎回取得しに行ってしまいすごく遅くなってた模様。RSSの発行自体にも問題があるかも？
- Feedzy RSS フィードのウィジェットを「フッター(モバイル用)」に入れてると全然だめって感じの挙動の模様。大丈夫なサイトと駄目なサイトがあるのがよくわからないけど…。
- とりあえず全部直った…はず。
- サイトのXMLサイトマップがJetpackで生成するのとXML-Sitemapというプラグインで生成するのとで重複していて変なことになってしまっていた。Jetpack側を無効化して対処した。
- Google Analyticsもドメインが変更になっておかしなことになってしまったのでタグマネージャーの設定からやり直した。
- 


日: [[2022-12-31]] | [[2023-01-02]]
週: [[2022-12-25]] | [[2023-01-08]]
月: [[2022-12-01]] | [[2023-02-01]]
年: [[2022-01-01]] | [[2024-01-01]]